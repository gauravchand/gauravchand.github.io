<!DOCTYPE html>
<html lang="eng">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>garychand</title>
    <link rel="stylesheet" href="design.css">    
</head>
<body>
    <div class="center-container">
        <header>
            <h1 id="typewriter-header"></h1>
        </header>
        <main>
            <section>
                <h2 id="typewriter"></h2>
                <nav class="side-nav">
                    <a id="nav-ctf"></a>
                    <a id="nav-tech"></a>
                    
                </nav>
                <div class="writeup-section">
                    <a id="nav-writeup"></a>
                </div>
            </section>
        </main>
    </div>
    <footer>
        <a href="mailto:gt1749553@gmail.com">Email</a> |
        <a href="https://linkedin.com/in/gaurav-thakur-79267a2a8/" target="_blank">LinkedIn</a> |
        <a href="https://github.com/gauravchand" target="_blank">GitHub</a> |
        <a href="https://ctftime.org/team/372867" target="blank">CtfTime</a>
    </footer>
<script>
const headerText = "Welcome to the Wired !!";
const mainText = `Garychand here, a cybersecurity enthusiast 
having hands-on experience with Kali Linux
and active participation in CTF competitions.
My team is ranked 27th All-India on CTFTime.`;
let headerIndex = 0;
let mainIndex = 0;
let navIndex = 0;
let divIndex = 0;
const navLinks = [
    { id: "nav-ctf", href : "https://en.wikipedia.org/wiki/Capture_the_flag_(cybersecurity)", text: "What's CTF?" },
    { id: "nav-tech", href: "tech-stack.html", text: "Tech Stack" },
];
const writeupLink = { id: "nav-writeup", href: "ctf-writeups.html", text: "Writeups"};
const speed = 25; // typing speed in ms

function typeWriterHeader() {
    if (headerIndex < headerText.length) {
        document.getElementById("typewriter-header").innerHTML += headerText.charAt(headerIndex);
        headerIndex++;
        setTimeout(typeWriterHeader, speed);
    } else {
        setTimeout(typeWriterMain, speed * 2); // slight pause before main text
    }
}

function typeWriterMain() {
    document.getElementById("typewriter").style.visibility = "visible";
    if (mainIndex < mainText.length) {
        const char = mainText.charAt(mainIndex) === "\n" ? "<br>" : mainText.charAt(mainIndex);
        document.getElementById("typewriter").innerHTML += char;
        mainIndex++;
        setTimeout(typeWriterMain, speed);
    } else {
        setTimeout(typeWriterNav, speed * 2); // Start nav typewriter after h2 finishes
    }
}
function typeWriterNav(index = 0, charIndex = 0) {
    if (index >= navLinks.length) {
        setTimeout(() => typeWriterWriteup(), speed * 2); // Start writeup after nav
        return;
    }
    const link = navLinks[index];
    const el = document.getElementById(link.id);
    el.href = link.href;
    if (link.id === "nav-ctf") {
        el.target = "_blank";
    }
    if (charIndex === 0) {
        el.style.visibility = "visible";
    }
    if (charIndex < link.text.length) {
        el.innerHTML += link.text.charAt(charIndex);
        setTimeout(() => typeWriterNav(index, charIndex + 1), speed);
    } else {
        setTimeout(() => typeWriterNav(index + 1, 0), 200);
    }
}
function typeWriterWriteup(charIndex = 0) {
    const el = document.getElementById(writeupLink.id);
    el.href = writeupLink.href;
    
    if (charIndex === 0) {
        el.style.visibility = "visible";
        document.querySelector('.writeup-section').style.visibility = "visible";
    }
    
    if (charIndex < writeupLink.text.length) {
        el.innerHTML += writeupLink.text.charAt(charIndex);
        setTimeout(() => typeWriterWriteup(charIndex + 1), speed);
    }
}

window.onload = typeWriterHeader;
</script>
</body>
</html>